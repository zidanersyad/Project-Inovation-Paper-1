<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ITOD Services - Service Catalog</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { 
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    .navbar { 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      padding: 1rem 0;
    }
    
    .navbar-brand { 
      color: white !important; 
      font-weight: 700; 
      font-size: 1.6rem;
      letter-spacing: 1px;
    }
    
    .role-label { 
      color: rgba(255,255,255,0.9);
      font-weight: 500;
    }
    
    .profile-selector { 
      cursor: pointer; 
      border-radius: 8px;
      border: 2px solid rgba(255,255,255,0.3);
      background: rgba(255,255,255,0.2);
      color: white;
      font-weight: 500;
    }
    
    .profile-selector:focus {
      background: rgba(255,255,255,0.3);
      border-color: rgba(255,255,255,0.5);
      color: white;
    }
    
    .profile-selector option {
      color: #333;
    }
    
    .catalog-section {
      margin-top: 2rem;
    }
    
    .section-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 1.5rem;
      text-align: center;
    }
    
    .catalog-grid { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
      gap: 24px;
      margin-top: 2rem;
    }
    
    .tile { 
      background: white; 
      border-radius: 16px; 
      padding: 28px 20px; 
      box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
      cursor: pointer; 
      text-align: center; 
      transition: all .3s ease;
      border: 2px solid transparent;
      position: relative;
      overflow: hidden;
      text-decoration: none;
      color: inherit;
      display: block;
    }
    
    .tile::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      transform: scaleX(0);
      transition: transform .3s ease;
    }
    
    .tile:hover::before {
      transform: scaleX(1);
    }
    
    .tile:hover { 
      transform: translateY(-8px); 
      box-shadow: 0 12px 24px rgba(102,126,234,0.3);
      border-color: #667eea;
    }
    
    .tile .icon { 
      font-size: 48px; 
      margin-bottom: 16px;
      display: block;
      transition: transform .3s ease;
    }
    
    .tile:hover .icon {
      transform: scale(1.1);
    }
    
    .tile .title { 
      font-weight: 600; 
      font-size: 1rem; 
      color: #2d3748; 
      margin-bottom: 8px;
      line-height: 1.4;
    }
    
    .tile .desc { 
      font-size: 0.85rem; 
      color: #718096;
      line-height: 1.5;
    }

    /* Admin Menu Tiles */
    .admin-menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-top: 2rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .admin-menu-tile {
      background: white;
      border-radius: 16px;
      padding: 40px 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      cursor: pointer;
      text-align: center;
      transition: all .3s ease;
      border: 2px solid transparent;
      position: relative;
      overflow: hidden;
    }

    .admin-menu-tile::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      transform: scaleX(0);
      transition: transform .3s ease;
    }

    .admin-menu-tile:hover::before {
      transform: scaleX(1);
    }

    .admin-menu-tile:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 24px rgba(102,126,234,0.3);
      border-color: #667eea;
    }

    .admin-menu-tile .icon {
      font-size: 64px;
      margin-bottom: 20px;
      display: block;
      transition: transform .3s ease;
    }

    .admin-menu-tile:hover .icon {
      transform: scale(1.1);
    }

    .admin-menu-tile .title {
      font-weight: 700;
      font-size: 1.3rem;
      color: #2d3748;
      margin-bottom: 10px;
    }

    .admin-menu-tile .desc {
      font-size: 0.95rem;
      color: #718096;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-light shadow-sm">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">ITOD SERVICES</span>

      <div class="d-flex align-items-center">
        <div class="me-3 role-label small">Role:</div>
        <select id="roleSelect" class="form-select form-select-sm w-auto profile-selector">
          <option value="">SPO</option>
          <option value="Admin">Admin Iserve</option>
        </select>
      </div>
    </div>
  </nav>

  <div class="container py-4">
    <!-- SPO Catalog Section -->
    <div id="catalogSection" class="catalog-section">
      <h2 class="section-title">Service Catalog</h2>
      <div class="catalog-grid" id="catalogGrid"></div>
    </div>

    <!-- Admin Menu Section -->
    <div id="adminMenuSection" class="catalog-section d-none">
      <h2 class="section-title">Admin Iserve - Dashboard</h2>
      <div class="admin-menu-grid">
        <div class="admin-menu-tile" onclick="window.location.href='admin-dashboard.html'">
          <div class="icon">ðŸ“‹</div>
          <div class="title">Semua Ticket Permintaan</div>
          <div class="desc">Kelola, lihat detail, dan ubah service catalog dari semua ticket permintaan</div>
        </div>
        
        <div class="admin-menu-tile" onclick="window.location.href='workload-monitoring.html'">
          <div class="icon">ðŸ“Š</div>
          <div class="title">Monitoring Workload Engineer</div>
          <div class="desc">Pantau workload engineer, visualisasi data, dan rekomendasi AI untuk distribusi tugas</div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const SERVICE_CATALOG = [
      { id: 'svc_data_laporan', title: 'Data dan Laporan ADHOQ/OutQ', desc: 'Permintaan data dan laporan ADHOQ/OutQ', icon: 'ðŸ“Š' },
      { id: 'svc_email', title: 'Email Service (Zimbra)', desc: 'Buat email, reset password Zimbra', icon: 'ðŸ“§' },
      { id: 'svc_eod', title: 'EOD Core Banking Development', desc: 'End of Day Core Banking Development (EOD-Q)', icon: 'ðŸŒ™' },
      { id: 'svc_hw_request', title: 'Hardware Request', desc: 'Permintaan perangkat hardware', icon: 'ðŸ–¥ï¸' },
      { id: 'svc_hw_cabang', title: 'Instalasi Hardware/Software Cabang', desc: 'Instalasi Hardware/Software Client Kantor Cabang/Outlet', icon: 'ðŸ”§' },
      { id: 'svc_hw_pusat', title: 'Instalasi Hardware/Software Pusat', desc: 'Instalasi Hardware/Software Client Kantor Pusat', icon: 'ðŸ¢' },
      { id: 'svc_hw_server', title: 'Instalasi Hardware/Software Server', desc: 'Instalasi Hardware/Software Server Kantor Cabang/Outlet', icon: 'ðŸ’¾' },
      { id: 'svc_network_atm', title: 'Jaringan ATM & Channel', desc: 'Jaringan Komunikasi ATM & Channel', icon: 'ðŸ§' },
      { id: 'svc_network_outlet', title: 'Jaringan Komunikasi Outlet', desc: 'Permintaan jaringan komunikasi outlet', icon: 'ðŸ“¡' },
      { id: 'svc_maintenance_data', title: 'Maintenance Data', desc: 'Pemeliharaan dan perbaikan data', icon: 'ðŸ—„ï¸' },
      { id: 'svc_maintenance_app', title: 'Maintenance Fitur Aplikasi', desc: 'Maintenance Fitur Aplikasi Existing', icon: 'âš™ï¸' },
      { id: 'svc_open_booth', title: 'Open Booth', desc: 'Permintaan pembukaan booth baru', icon: 'ðŸª' },
      { id: 'svc_mimix', title: 'Penambahan Object Replikasi MIMIX', desc: 'Penambahan object replikasi MIMIX', icon: 'ðŸ”„' },
      { id: 'svc_print_rekening', title: 'Pencetakan Rekening Koran', desc: 'Permintaan cetak rekening koran', icon: 'ðŸ–¨ï¸' },
      { id: 'svc_ip_server', title: 'Permintaan IP Server', desc: 'Permintaan alokasi IP Server', icon: 'ðŸŒ' },
      { id: 'svc_restore_db', title: 'Restore Database Non Core', desc: 'Restore Database non core/non as400', icon: 'ðŸ’¿' },
      { id: 'svc_routing', title: 'Routing and Switching', desc: 'Konfigurasi routing dan switching', icon: 'ðŸ”€' },
      { id: 'svc_server_nonvm', title: 'Server Non Virtual Machine', desc: 'Permintaan server non virtual machine', icon: 'ðŸ–²ï¸' },
      { id: 'svc_server_vm', title: 'Server Virtual Machine AS400', desc: 'Server virtual machine as400', icon: 'â˜ï¸' },
    ];

    const catalogGrid = document.getElementById('catalogGrid');
    const roleSelect = document.getElementById('roleSelect');
    const catalogSection = document.getElementById('catalogSection');
    const adminMenuSection = document.getElementById('adminMenuSection');

    function saveServiceToStorage(svc) {
      localStorage.setItem('selectedService', JSON.stringify(svc));
    }

    function renderCatalog() {
      catalogGrid.innerHTML = '';
      SERVICE_CATALOG.forEach(svc => {
        const el = document.createElement('a');
        el.className = 'tile';
        el.href = '#';
        el.innerHTML = `
          <div class="icon">${svc.icon}</div>
          <div class="title">${svc.title}</div>
          <div class="desc">${svc.desc}</div>
        `;
        el.onclick = (e) => {
          e.preventDefault();
          saveServiceToStorage(svc);
          window.location.href = 'request-form.html';
        };
        catalogGrid.appendChild(el);
      });
    }

    function applyRoleUI() {
      const role = roleSelect.value;
      if (role === 'Admin') {
        adminMenuSection.classList.remove('d-none');
        catalogSection.classList.add('d-none');
      } else {
        adminMenuSection.classList.add('d-none');
        catalogSection.classList.remove('d-none');
      }
    }

    roleSelect.addEventListener('change', applyRoleUI);

    renderCatalog();
    applyRoleUI();
  </script>
</body>
</html>